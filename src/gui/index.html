
<html>
    <head>
        <title>Panel d'Administration BitskinsBroker</title>
        <meta charset="utf-8">
        <link rel="stylesheet" href="./style.css">
        <script>
            const { ipcRenderer } = require('electron');
    
            ipcRenderer.on('populate-db-progress', (event, arg) => 
            {
                
                var percent_value = (arg / 480) * 100;
                setProgressBarValue( Math.trunc(percent_value) );
            });

            const onClickUpdateButton = () =>
            {
                ipcRenderer.send ('START_UPDATE_DB', null);
                var update_button          = document.getElementById("update-button");
                update_button.disabled = true ;
            }
    
            function setProgressBarValue( value ) 
            {
                if (value > 100) value = 100;
                var pbar_value          = document.getElementById("progress-bar-value");
                pbar_value.style.width = value + "%";
                pbar_value.innerHTML = value + "%";
                
            }
        </script>
    
    
    </head>	
    
    <body style="background-color: #1C1C1C;" onload="setProgressBarValue(0);">
    
    
        <p style="color: #d1d1d1; font-family: 'Lucida Console'; font-size: 20px;">Traitement des items dans la page</p>
        <div id="progress-bar">
            <div id="progress-bar-value"></div>
        </div>
        <button id='update-button' type="button" onclick="onClickUpdateButton()">Start Update!</button>
    
    </body>
    </html>